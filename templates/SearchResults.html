<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Search Results</title>
    <link
      rel="stylesheet"
      href="{{ url_for('static', filename='home.css') }}"
    />
    <script type="text/javascript" src="/static/search-option.js"></script>
    <script type="text/javascript" src="/static/book-details.js"></script>
</head>
    <h1>Book Search</h1>
    <form action="{{ url_for('search') }}" method="GET">
      <input type="text" name="query" placeholder="Search">
        <select name="search_type">
          <option value="title">Title</option>
          <option value="author">Author</option>
          <option value="genre">Genre</option>
        </select>
      <button type="submit">Search</button>
    </form>
    <br>
<body>
<a href="/" class="home-button">Home</a>
    <div class="container">
        <h1>Search Results</h1>
        <p>Search Request: {{ search_query }}</p>
        <ul class="results-list">
            {% for result in results %}
                <div class="book-description">
                    <!-- Still pulling book cover from open lib API -->
                    {% set cover_url = 'https://covers.openlibrary.org/b/title/' + result['Title'] + '-L.jpg' %}
                    <img src="{{ cover_url }}" alt="Book Cover"><br>
                    <strong>Title:</strong> {{ result['Title'] }}<br>
                    <strong>Author:</strong> {{ result['Author'] }}<br>
                    <strong>Publisher:</strong> {{ result['Publisher'] }}<br>
                    <strong>Genre:</strong> {{ result['Genre'] }}<br>
                    <strong>ISBN:</strong> {{ result['ISBN'] }}<br>
                    <strong>Price:</strong> {{ result['Price'] }}<br>

                    <!-- Description from google api -->
                    <h1>Book Description</h1>
                    <p>{{ result['description'] }}</p>
                    <!-- Any other details we want to display -->
                </div>
            {% endfor %}
        </ul>
    </div>
</body>
</html>
